<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Invitación — Jairo & Diana</title>

<!--
  Archivo: index.html
  Mobile-first. Paleta: #e9f5db (crema), #273526 (verde-oliva), #97A97C (verde-claro)
  - Autoplay audio con fallback
  - Monograma centrado
  - Galería carrusel
  - Nuestro camino
  - Countdown (6 dic 2025 17:00)
  - Ubicaciones con maps
  - Agenda con iconos
  - Mensaje personalizado por URL ?nombre=&adultos=&ninos=
-->

<style>
  @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;700&display=swap');

  :root{
    --verde-oliva:#273526;
    --verde-claro:#97A97C;
    --crema:#e9f5db;
    --panel: rgba(255,255,255,0.94);
  }

  /* RESET BÁSICO */
  *{box-sizing:border-box}
  html,body{height:100%; margin:0; padding:0; background:var(--crema); color:var(--verde-oliva); font-family:'Playfair Display', serif; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale}
  body{padding:16px; display:flex; justify-content:flex-start; align-items:flex-start}

  main{
    width:100%;
    max-width:820px;
    margin:0 auto;
    background:var(--panel);
    border-radius:14px;
    box-shadow:0 12px 40px rgba(0,0,0,0.12);
    padding:18px;
  }

  /* animaciones suaves */
  .fade { opacity:0; transform:translateY(10px); animation:fadeIn 0.8s ease forwards; }
  .fade.delay-1{ animation-delay:0.15s }
  .fade.delay-2{ animation-delay:0.35s }
  .fade.delay-3{ animation-delay:0.55s }
  .fade.delay-4{ animation-delay:0.75s }
  @keyframes fadeIn{ to { opacity:1; transform:none } }

  /* --- MONOGRAMA CENTRADO --- */
  header.monograma {
    display:flex; justify-content:center; align-items:center;
    padding:8px 0 6px;
  }
  .monograma-box {
    width:120px; height:120px; border-radius:22px;
    display:flex; align-items:center; justify-content:center;
    background:linear-gradient(180deg, rgba(151,169,124,0.09), rgba(39,53,38,0.03));
    border:2px solid rgba(39,53,38,0.06);
    box-shadow:0 8px 26px rgba(0,0,0,0.08);
  }
  .monograma-text {
    font-family:'Great Vibes', cursive;
    font-size:44px;
    color:var(--verde-oliva);
    transform-origin:center;
    animation:monogramPop 0.9s cubic-bezier(.2,.8,.2,1) forwards;
    opacity:0;
  }
  @keyframes monogramPop {
    0% { transform:scale(0.7) rotate(-6deg); opacity:0 }
    60% { transform:scale(1.06) rotate(2deg); opacity:1 }
    100% { transform:scale(1) rotate(0deg); opacity:1 }
  }

  /* --- IMAGEN PRINCIPAL (cuadrada, responsive) --- */
  .hero-img {
    width:100%;
    max-width:420px;
    aspect-ratio:1/1;
    margin:6px auto 16px;
    border-radius:12px; overflow:hidden;
    box-shadow:0 12px 36px rgba(0,0,0,0.10);
    background: linear-gradient(180deg, rgba(151,169,124,0.06), rgba(39,53,38,0.02));
  }
  .hero-img img { width:100%; height:100%; object-fit:cover; display:block }

  /* --- AUDIO: Nuestra canción --- */
  .audio-section {
    margin:8px auto 12px; display:flex; flex-direction:column; align-items:center; gap:10px;
  }
  .audio-title {
    font-family:'Great Vibes', cursive; font-size:1.9rem; color:var(--verde-oliva); margin:0;
  }
  .audio-player {
    width:100%; max-width:540px; position:relative;
  }
  audio { width:100%; border-radius:10px; box-shadow:0 8px 26px rgba(0,0,0,0.08) }

  .audio-fallback {
    position:absolute; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none; border-radius:10px;
  }
  .btn-play {
    pointer-events:auto;
    background:var(--verde-oliva); color:var(--crema); border:none; padding:10px 14px; border-radius:999px; font-weight:700;
    box-shadow:0 10px 28px rgba(39,53,38,0.16); cursor:pointer;
  }

  /* --- NUESTROS PADRES --- */
  .parents {
    display:grid; grid-template-columns:1fr; gap:10px; margin:10px 0 14px; text-align:center;
  }
  .parent-card {
    background:linear-gradient(180deg, rgba(233,245,219,0.65), rgba(255,255,255,0.35));
    border:1px solid rgba(151,169,124,0.12); padding:12px; border-radius:12px;
  }
  .parent-card h4 { margin:0; color:var(--verde-claro); font-size:1.05rem; font-weight:700 }
  .parent-card p { margin:6px 0 0; font-weight:700 }

  /* --- INVITACIÓN (título grande) --- */
  .invite {
    background:white; border-radius:12px; padding:18px; text-align:center; margin:12px 0;
    box-shadow:0 8px 26px rgba(0,0,0,0.06)
  }
  .invite .lead { color:var(--verde-claro); margin:0; font-weight:600 }
  .invite .name { font-family:'Great Vibes', cursive; font-size:3.6rem; margin:6px 0; color:var(--verde-oliva) }
  .invite .date { font-weight:800; color:var(--verde-oliva) }

  /* --- COUNTDOWN --- */
  .countdown {
    margin:12px auto; display:inline-block; background:var(--crema); padding:10px 14px; border-radius:12px; font-weight:800;
    box-shadow:0 8px 20px rgba(0,0,0,0.06)
  }

  /* --- UBICACIONES (ceremonia + recepción) */
  .locations {
    display:grid; grid-template-columns:1fr; gap:14px; margin:18px 0;
  }
  .loc-card {
    background:white; border-radius:12px; padding:12px; box-shadow:0 8px 22px rgba(0,0,0,0.06); text-align:left;
  }
  .loc-top { display:flex; gap:12px; align-items:center }
  .loc-icon {
    width:60px; height:60px; flex-shrink:0; border-radius:10px; display:flex; align-items:center; justify-content:center; background:linear-gradient(180deg, rgba(151,169,124,0.09), rgba(39,53,38,0.03));
    border:1px solid rgba(39,53,38,0.06)
  }
  .loc-title { font-weight:800; color:var(--verde-oliva); margin:0; font-size:1.05rem }
  .loc-sub { color:var(--verde-oliva); margin:6px 0 0; font-weight:600; font-size:0.95rem }
  .loc-map { margin-top:10px; border-radius:10px; overflow:hidden }
  .loc-map iframe { width:100%; height:200px; border:0; display:block }

  /* --- AGENDA --- */
  .agenda {
    background:white; border-radius:12px; padding:12px; box-shadow:0 8px 22px rgba(0,0,0,0.06); margin:12px 0
  }
  .agenda h5{ margin:0 0 12px 0; color:var(--verde-claro); text-align:center }
  .agenda ul{ list-style:none; padding:0; margin:0 }
  .agenda li{ display:flex; gap:12px; align-items:center; padding:10px 6px; border-bottom:1px solid rgba(0,0,0,0.04) }
  .agenda .time{ font-weight:800; width:78px }
  .icon{ width:22px; height:22px; flex-shrink:0; fill:var(--verde-oliva) }

  /* --- REGALOS --- */
  .gifts { background:white; border-radius:12px; padding:12px; box-shadow:0 8px 22px rgba(0,0,0,0.06); text-align:center; margin:12px 0 }
  .gifts p{ margin:0; font-weight:700; color:var(--verde-oliva) }

  /* --- GALERÍA (carrusel simple) --- */
  .gallery { margin:12px 0 }
  .gallery .wrap { position:relative; overflow:hidden; border-radius:12px; box-shadow:0 12px 36px rgba(0,0,0,0.08) }
  .gallery .track { display:flex; transition:transform .45s ease }
  .gallery .track img{ width:100%; min-width:280px; object-fit:cover; height:320px }
  .gallery .controls{ display:flex; gap:10px; justify-content:center; margin-top:10px }
  .btn { background:var(--verde-claro); color:white; border:none; padding:8px 12px; border-radius:999px; cursor:pointer; font-weight:700 }

  /* --- NUESTRO CAMINO (horizontal scroll) --- */
  .story { margin:12px 0; background:white; padding:12px; border-radius:12px; box-shadow:0 8px 22px rgba(0,0,0,0.06) }
  .story .list { display:flex; gap:12px; overflow-x:auto; padding:8px 4px }
  .story .item { min-width:150px; background:var(--crema); padding:10px; border-radius:10px; text-align:center }

  /* --- CÓDIGO VESTIMENTA & CONTACTO --- */
  .small-card { background:white; border-radius:12px; padding:12px; box-shadow:0 8px 22px rgba(0,0,0,0.06); margin:12px 0; text-align:center }

  /* --- MENSAJE PERSONALIZADO --- */
  #personalBox { margin:14px auto; max-width:560px; background:rgba(213,228,183,0.8); border:1.2px solid var(--verde-claro); padding:12px 14px; border-radius:12px; font-weight:800; text-align:center }

  /* RESPONSIVE DESKTOP */
  @media(min-width:780px){
    main{ padding:26px }
    .parents{ grid-template-columns:1fr 1fr }
    .locations{ grid-template-columns:1fr 1fr; gap:18px }
    .gallery .track img { height:420px }
  }
</style>
</head>
<body>
<main>

  <!-- 1. PORTADA: monograma centrado + autoplay audio -->
  <header class="monograma fade delay-1" role="banner" aria-label="Monograma">
    <div class="monograma-box" aria-hidden="true">
      <div class="monograma-text">J &amp; D</div>
    </div>
  </header>

  <!-- 2. IMAGEN PRINCIPAL (cuadrada) -->
  <section class="hero-img fade delay-1" aria-label="Imagen principal">
    <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=800&q=80" alt="Foto de Jairo y Diana (reemplazar)" />
  </section>

  <!-- 3. NUESTRA CANCIÓN (audio autoplay) -->
  <section class="audio-section fade delay-2" aria-label="Nuestra canción">
    <h3 class="audio-title">Nuestra canción</h3>
    <div class="audio-player" aria-hidden="false">
      <!-- Reemplaza src por tu archivo raw GitHub o Drive directo si es fiable -->
      <audio id="audio" src="https://github.com/Jaldx10/jairo-diana-boda/raw/refs/heads/main/Bruno-Major-Nothing-Lyric-Chord.MP3" preload="auto" playsinline loop controls></audio>
      <div class="audio-fallback" id="audioFallback" style="display:none">
        <button class="btn-play" id="btnPlay">▶ Reproducir</button>
      </div>
    </div>
  </section>

  <!-- 4. NUESTROS PADRES -->
  <section class="parents fade delay-3" aria-label="Nuestros padres">
    <div class="parent-card" aria-labelledby="pad1">
      <h4 id="pad1">Lilian Elizabeth Arce</h4>
      <p>Luis René Velásquez</p>
    </div>
    <div class="parent-card" aria-labelledby="pad2">
      <h4 id="pad2">Deisy Marina de González</h4>
      <p>Herbert González</p>
    </div>
  </section>

  <!-- 5. INVITACIÓN (texto principal) -->
  <section class="invite fade delay-3" aria-label="Invitación">
    <p class="lead">Tenemos el agrado de invitarle a</p>
    <div class="name">Nuestra boda</div>
    <div class="date">Sábado 06 de diciembre de 2025</div>
  </section>

  <!-- Mensaje personalizado -->
  <div id="personalBox" aria-live="polite" style="display:none"></div>

  <!-- 6. COUNTDOWN -->
  <div class="countdown fade delay-3" id="countBlock" aria-live="polite">Cargando cuenta regresiva...</div>

  <!-- 7. AGENDA -->
  <section class="agenda fade delay-4" aria-label="Agenda">
    <h5>Agenda</h5>
    <ul>
      <li><svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 1a11 11 0 1011 11A11 11 0 0012 1zm0 20a9 9 0 119-9 9 9 0 01-9 9z"/><path d="M13 7h-2v6h6v-2h-4z"/></svg><div class="time">16:00</div><div>Ceremonia en la iglesia</div></li>
      <li><svg class="icon" viewBox="0 0 24 24"><path d="M3 6h18v2H3zM5 10h14v8H5z"/></svg><div class="time">18:00</div><div>Recepción y banquete</div></li>
      <li><svg class="icon" viewBox="0 0 24 24"><path d="M12 2l2 5h5l-4 3 2 5-4-3-4 3 2-5-4-3h5z"/></svg><div class="time">21:00</div><div>Baile y celebración</div></li>
    </ul>
  </section>

  <!-- 8. REGALOS (texto simple) -->
  <section class="gifts fade delay-4" aria-label="Regalos">
    <p>Agradeceremos mucho las muestras de cariño en regalo de sobre.</p>
  </section>

  <!-- 9. DATOS DEL EVENTO: ceremonia y recepción con iconos y map -->
  <section class="locations fade delay-4" aria-label="Datos del evento">
    <!-- Ceremonia -->
    <article class="loc-card" aria-label="Ceremonia">
      <div class="loc-top">
        <div class="loc-icon" aria-hidden="true">
          <!-- ícono de iglesia simple -->
          <svg width="36" height="36" viewBox="0 0 24 24" fill="none"><path d="M12 2L2 7v13h7v-6h6v6h7V7z" stroke="var(--verde-oliva)" stroke-width="1.2" fill="rgba(0,0,0,0.02)"/></svg>
        </div>
        <div>
          <div class="loc-title">Parroquia San Vicente de Paúl</div>
          <div class="loc-sub">Dirección: Calle Ejemplo #123, San Salvador</div>
        </div>
      </div>
      <div class="loc-map" style="margin-top:12px">
        <!-- reemplaza el src por tu Google Maps embed real si quieres -->
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3893.233412316576!2d-89.20810548502172!3d13.705746390394025!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8f6338d52c1bbd65%3A0x65dcd5f4bc76e7a8!2sParroquia%20San%20Vicente%20de%20Pa%C3%BAl!5e0!3m2!1ses!2ssv!4v1691579823956!5m2!1ses!2ssv" loading="lazy" referrerpolicy="no-referrer-when-downgrade" aria-label="Mapa Ceremonia"></iframe>
      </div>
    </article>

    <!-- Recepción -->
    <article class="loc-card" aria-label="Recepción">
      <div class="loc-top">
        <div class="loc-icon" aria-hidden="true">
          <!-- ícono recepción (copa) -->
          <svg width="36" height="36" viewBox="0 0 24 24" fill="none"><path d="M6 2h12l-1 7a6 6 0 01-10 0L6 2z" stroke="var(--verde-oliva)" stroke-width="1.2" fill="rgba(0,0,0,0.02)"/></svg>
        </div>
        <div>
          <div class="loc-title">Restaurante El Rincón Gourmet</div>
          <div class="loc-sub">Dirección: Blvd. Ejemplo #456, San Salvador</div>
        </div>
      </div>
      <div class="loc-map" style="margin-top:12px">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3892.896788834885!2d-89.22858898502227!3d13.723386690374322!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8f633fd0cbe949e5%3A0x33ce22e4d6a411c9!2sRestaurante%20El%20Rincon%20Gourmet!5e0!3m2!1ses!2ssv!4v1691580022749!5m2!1ses!2ssv" loading="lazy" referrerpolicy="no-referrer-when-downgrade" aria-label="Mapa Recepción"></iframe>
      </div>
    </article>
  </section>

  <!-- 10. GALERÍA (carrusel) -->
  <section class="gallery fade delay-4" aria-label="Galería">
    <div class="wrap" aria-hidden="false">
      <div class="track" id="track">
        <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=720&q=80" alt="Foto 1" />
        <img src="https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?auto=format&fit=crop&w=720&q=80" alt="Foto 2" />
        <img src="https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?auto=format&fit=crop&w=720&q=80" alt="Foto 3" />
      </div>
    </div>
    <div class="controls">
      <button class="btn" id="prev">&#8592;</button>
      <button class="btn" id="next">&#8594;</button>
    </div>
  </section>

  <!-- 11. NUESTRO CAMINO -->
  <section class="story fade delay-4" aria-label="Nuestro camino">
    <h5 style="color:var(--verde-claro); text-align:center; margin:0 0 10px 0">Nuestro camino</h5>
    <div class="list" aria-hidden="false">
      <div class="item"><img src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=300&q=80" alt="Historia 1" style="width:100%;height:110px;object-fit:cover;border-radius:8px"/><p>Cómo nos conocimos en la universidad</p></div>
      <div class="item"><img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=300&q=80" alt="Historia 2" style="width:100%;height:110px;object-fit:cover;border-radius:8px"/><p>El primer viaje juntos</p></div>
      <div class="item"><img src="https://images.unsplash.com/photo-1494526585095-c41746248156?auto=format&fit=crop&w=300&q=80" alt="Historia 3" style="width:100%;height:110px;object-fit:cover;border-radius:8px"/><p>La propuesta inolvidable</p></div>
    </div>
  </section>

  <!-- 12. CÓDIGO DE VESTIMENTA -->
  <section class="small-card fade delay-4" aria-label="Código de vestimenta">
    <h5 style="color:var(--verde-claro); margin:0 0 8px 0">Código de vestimenta</h5>
    <p style="margin:0; font-style:italic">Elegante casual — recomendamos tonos neutros y accesorios sutiles.</p>
  </section>

  <!-- 13. CONTACTO -->
  <section class="small-card fade delay-4" aria-label="Contacto">
    <h5 style="color:var(--verde-claro); margin:0 0 8px 0">Contacto</h5>
    <p style="margin:0">Para dudas escribe a <a href="mailto:contacto@bodaejemplo.com" style="color:var(--verde-oliva); font-weight:700">contacto@bodaejemplo.com</a></p>
  </section>

</main>

<script>
/* ============================
  SCRIPT GENERAL (autoplay audio, gallery, countdown, URL params)
   - Mobile first, fallback play button if autoplay bloqueado.
   - Personalización por URL: ?nombre=...&adultos=...&ninos=...
============================ */

/* AUDIO: autoplay con fallback */
const audio = document.getElementById('audio');
const audioFallback = document.getElementById('audioFallback');
const btnPlay = document.getElementById('btnPlay');

function tryPlayAudio(){
  if(!audio) return;
  // Intenta reproducir
  const p = audio.play();
  if(p !== undefined){
    p.then(()=> {
      // Autoplay OK -> hide fallback
      if(audioFallback) audioFallback.style.display = 'none';
    }).catch(()=> {
      // Autoplay bloqueado
      if(audioFallback) audioFallback.style.display = 'flex';
    });
  } else {
    if(audioFallback) audioFallback.style.display = 'flex';
  }
}

// Si el browser bloquea autoplay con sonido, mostramos botón
if(btnPlay){
  btnPlay.addEventListener('click', ()=> {
    audio.play().then(()=> { if(audioFallback) audioFallback.style.display='none' }).catch(()=>{ alert('Por favor usa el control de audio para reproducir.')});
  });
}

// Intentar en load
document.addEventListener('DOMContentLoaded', ()=> {
  // intentar reproducir después de un pequeño delay
  setTimeout(tryPlayAudio, 250);
});

/* GALLERY: carrusel simple */
const track = document.getElementById('track');
const prev = document.getElementById('prev');
const next = document.getElementById('next');
let index = 0;

function updateGallery(){
  const width = track.children[0].clientWidth;
  const maxIndex = track.children.length - 1;
  index = Math.max(0, Math.min(index, maxIndex));
  track.style.transform = `translateX(${-index * width}px)`;
}
if(prev) prev.addEventListener('click', ()=> { index = Math.max(0, index-1); updateGallery(); });
if(next) next.addEventListener('click', ()=> { index = Math.min(track.children.length-1, index+1); updateGallery(); });
window.addEventListener('resize', updateGallery);

/* COUNTDOWN: 6 Dic 2025 17:00 */
function updateCountdown(){
  const target = new Date('2025-12-06T17:00:00').getTime();
  const now = Date.now();
  const diff = target - now;
  const block = document.getElementById('countBlock');
  if(!block) return;
  if(diff <= 0){ block.textContent = '¡Hoy es el gran día!'; return; }
  const days = Math.floor(diff / (1000*60*60*24));
  const hours = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
  const mins = Math.floor((diff % (1000*60*60)) / (1000*60));
  const secs = Math.floor((diff % (1000*60)) / 1000);
  block.textContent = `${days} días • ${hours}h ${mins}m ${secs}s`;
}
setInterval(updateCountdown, 1000);
updateCountdown();

/* PERSONALIZACIÓN POR URL */
function qParam(name){
  const p = new URLSearchParams(window.location.search);
  return p.get(name) || '';
}
function renderPersonal(){
  const name = qParam('nombre');
  const adultos = qParam('adultos');
  const ninos = qParam('ninos');
  const box = document.getElementById('personalBox');
  if(!box) return;
  if(!name && !adultos && !ninos){ box.style.display='none'; return; }
  let txt = `Invitación para ${name || 'usted'}.`;
  const partes = [];
  if(adultos) partes.push(`${adultos} adulto${adultos === '1' ? '' : 's'}`);
  if(ninos) partes.push(`${ninos} niño${ninos === '1' ? '' : 's'}`);
  if(partes.length) txt += ' Invitados: ' + partes.join(' y ') + '.';
  box.innerHTML = txt;
  box.style.display = 'block';
}
renderPersonal();

/* Mejora: si el archivo raw github requiere tiempo, audio puede fallar por CORS -> fallback visible
   Nota: si usas Google Drive, asegúrate "Cualquiera con el enlace" y usa https://drive.google.com/uc?export=download&id=ID
*/

/* Accessibility: ensure focus styles on buttons (simple) */
document.addEventListener('focusin', (e)=> {
  if(e.target && (e.target.matches('button') || e.target.matches('a'))) e.target.style.outline = '3px solid rgba(151,169,124,0.25)';
});
document.addEventListener('focusout', (e)=> {
  if(e.target && (e.target.matches('button') || e.target.matches('a'))) e.target.style.outline = 'none';
});
</script>
</body>
</html>
